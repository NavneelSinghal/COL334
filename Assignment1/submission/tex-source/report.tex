\documentclass[a4paper]{article}
\usepackage[english]{babel}
\usepackage[a4paper,top=2cm,bottom=2cm,left=2cm,right=2cm,marginparwidth=1.75cm]{geometry}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage[colorlinks=true, allcolors=blue]{hyperref}
\usepackage{xcolor}
\usepackage{enumerate}
\usepackage{minted}
\usepackage{listings}
\lstset{
    basicstyle=\small\color{purple}\ttfamily,
    columns=flexible,
    breaklines=true,
}
\setlength\parindent{0pt}

\title{\textbf{Computer Networks Assignment 1}}
\author{\textsc{Navneel Singhal}}

\newcommand{\nl}{\vspace{0.2cm}\\}
\newcommand{\nln}{\vspace{0.2cm}}

\begin{document}

\maketitle
\tableofcontents

\section{Network Analysis}

\subsection{Running \texttt{traceroute} for different hosts}

\subsubsection{\texttt{www.iitd.ac.in}}
\begin{lstlisting}
traceroute to www.iitd.ac.in (103.27.9.24), 30 hops max, 60 byte packets
 1  _gateway (192.168.1.1)  1.304 ms  1.268 ms  1.250 ms
 2  10.190.160.1 (10.190.160.1)  4.681 ms  6.441 ms  6.406 ms
 3  196.195.157.1 (196.195.157.1)  6.881 ms  7.183 ms  7.283 ms
 4  14.140.210.9.static-Delhi-vsnl.net.in (14.140.210.9)  4.217 ms  4.044 ms  4.528 ms
 5  14.140.210.22.static-Delhi-vsnl.net.in (14.140.210.22)  6.296 ms  6.280 ms  4.761 ms
 6  * * *
 7  * * *
 8  * * *
 9  * * *
10  * * *
11  * * *
12  * * *
13  * * *
14  * * *
15  * * *
16  * * *
17  * * *
18  * * *
19  * * *
20  * * *
21  * * *
22  * * *
23  * * *
24  * * *
25  * * *
26  * * *
27  * * *
28  * * *
29  * * *
30  * * *
\end{lstlisting}

IP addresses traversed - 
\begin{enumerate}
\item 192.168.1.1 - this is the private IP address of my router
\item 10.190.160.1 - this is a private IP address on my network
\item 196.195.157.1 - this is the IP address of a node on the public network (a whois lookup shows that this is allocated to AfriNIC)
\item 14.140.210.9 - this is the IP address of a Tata server (which seems to be the ISP of IITD)
\item 14.140.210.22 - this is again in the same sub-network (and indicates a subnet mask like 255.255.255.0)
\end{enumerate}
After this, there is no connection, maybe due to blocked packets from IITD.

\subsubsection{\texttt{www.google.com}}

\begin{lstlisting}
traceroute to www.google.com (216.58.200.196), 30 hops max, 60 byte packets
 1  _gateway (192.168.1.1)  1.798 ms  1.737 ms  1.696 ms
 2  10.190.160.1 (10.190.160.1)  5.665 ms  5.646 ms  5.603 ms
 3  163.53.87.1 (163.53.87.1)  4.419 ms  3.910 ms  4.007 ms
 4  72.14.221.86 (72.14.221.86)  4.151 ms 103.16.31.6 (103.16.31.6)  5.683 ms  5.667 ms
 5  10.252.172.94 (10.252.172.94)  5.572 ms 10.23.221.158 (10.23.221.158)  9.475 ms 74.125.244.193 (74.125.244.193)  4.291 ms
 6  172.253.51.5 (172.253.51.5)  4.453 ms  5.312 ms 172.253.67.88 (172.253.67.88)  3.331 ms
 7  142.250.46.131 (142.250.46.131)  5.622 ms 108.170.251.124 (108.170.251.124)  2.692 ms 142.250.46.131 (142.250.46.131)  4.237 ms
 8  nrt12s12-in-f196.1e100.net (216.58.200.196)  3.563 ms  3.548 ms  4.022 ms
\end{lstlisting}

IP addresses traversed - 
\begin{enumerate}
\item 192.168.1.1 - this is the private IP address of my router
\item 10.190.160.1 - this is a private IP address on my network
\item 163.53.87.1 - this is an IP address on the ANI network
\item 72.14.221.86 - this is an IP address owned by Google, and this indicates that Google has set up a connection with local networks
\item 10.252.172.94, 10.23.221.158, 74.125.244.193 - these are three different IP addresses which are accessed by the three different packets in the 5th hop. The first two are private addresses (maybe on Google's internal network) and the last one is a public IP address on Google's network
\item 172.253.51.5, 172.253.67.88 - both of these are also owned by Google, and seem like they are on the same network (due to common prefix). However, note that these are not private addresses (since the private addresses starting with 172 are 172.16.*.* to 172.31.*.*)
\item 142.250.46.131, 108.170.251.124 - both of these are public IPs owned by Google, and till now, the variety of IP addresses shows a lot of redundancy in the network (multiple pathways to the destination)
\item 216.58.200.196 - this is the final target 
\end{enumerate}

\textbf{Note}: There was no defaulting to IPv6 here (since my ISP doesn't support IPv6), so I tried using my mobile data hotspot, which had IPv6 connectivity. However the traceroute and ping commands give timeout (even on the smallest packet sizes), and on running tests on test-ipv6.com, it mentions that large packets fail - and since my phone doesn't have any configuration options for mobile data, I couldn't work with IPv6.\nl
However, the DNS query for ping (but not traceroute) defaulted to IPv6 address when using the mobile hotspot, even though it failed.\nl
Anyway, to force the traceroute or ping command to use IPv4, we can use the option -4 in the command (like \texttt{traceroute -4 www.google.com}).\nl
I also did another traceroute to www.google.com as follows:

\begin{lstlisting}
traceroute to www.google.com (172.217.160.238), 30 hops max, 60 byte packets
 1  _gateway (192.168.1.1)  1.268 ms  1.250 ms  1.242 ms
 2  10.190.160.1 (10.190.160.1)  4.565 ms  4.557 ms  4.532 ms
 3  163.53.87.1 (163.53.87.1)  3.880 ms  3.871 ms  3.863 ms
 4  72.14.221.86 (72.14.221.86)  3.525 ms 103.16.31.6 (103.16.31.6)  3.410 ms  3.403 ms
 5  * * 108.170.251.97 (108.170.251.97)  4.468 ms
 6  64.233.174.17 (64.233.174.17)  5.062 ms 74.125.243.97 (74.125.243.97)  6.102 ms 64.233.174.151 (64.233.174.151)  6.081 ms
 7  74.125.244.194 (74.125.244.194)  6.055 ms del03s09-in-f14.1e100.net (172.217.160.238)  3.053 ms  3.209 ms
\end{lstlisting}

On the above traceroute to www.google.com, we can see that there were two packets which were sent to routers which didn't send any replies to the traceroute requests, as in hop 5.

\subsubsection{\texttt{www.facebook.com}}

\begin{lstlisting}
traceroute to www.facebook.com (157.240.198.35), 30 hops max, 60 byte packets
 1  _gateway (192.168.1.1)  7.480 ms  7.425 ms  7.366 ms
 2  10.190.160.1 (10.190.160.1)  7.352 ms  7.337 ms  7.323 ms
 3  163.53.87.1 (163.53.87.1)  5.302 ms  5.413 ms  5.401 ms
 4  ae2.pr03.del1.tfbnw.net (157.240.70.198)  5.762 ms ae1.pr04.del1.tfbnw.net (157.240.70.196)  5.915 ms ae2.pr03.del1.tfbnw.net (157.240.70.198)  5.739 ms
 5  po104.psw04.del1.tfbnw.net (157.240.50.231)  5.120 ms po104.psw01.del1.tfbnw.net (31.13.25.169)  5.116 ms  5.104 ms
 6  157.240.38.119 (157.240.38.119)  5.162 ms 173.252.67.25 (173.252.67.25)  4.710 ms 173.252.67.159 (173.252.67.159)  4.682 ms
 7  edge-star-mini-shv-01-del1.facebook.com (157.240.198.35)  4.669 ms  4.655 ms  4.640 ms
\end{lstlisting}

IP addresses traversed -
\begin{enumerate}
\item 192.168.1.1 - this is the private IP address of my router
\item 10.190.160.1 - this is a private IP address on my network
\item 163.53.87.1 - this is an IP address on the ANI network
\item 157.240.70.198, 157.240.70.196 - these are public IP addresses owned by Facebook (this and the IPs mentioned on 5, 7 seem like CDNs)
\item 157.240.50.231, 31.13.25.169 - these are also public IP addresses owned by Facebook, however the second IP address is that from Facebook Ireland, which shows different possible routings.
\item 157.240.38.119, 173.252.67.25, 173.252.67.159 - same as above, also see point 4
\item 157.240.198.35 - same as above, also see point 4
\end{enumerate}

\subsection{Observations}

As seen in the previous section, the observations are as follows:

\begin{enumerate}
    \item It was observed that the gateway has a private address 192.168.1.1, and there was another private IP 10.190.160.1 on my network.
    \item It was also observed, for example, in the case of www.google.com, that in some cases, there were some private IPs, like 10.252.172.94 and 10.23.221.158, and this shows the hops in Google's internal/private network.
    \item There was no defaulting to IPv6 here (since my ISP doesn't support IPv6), so I tried using my mobile data hotspot, which had IPv6 connectivity. However the traceroute and ping commands give timeout (even on the smallest packet sizes), and on running tests on test-ipv6.com, it mentions that large packets fail - and since my phone doesn't have any configuration options for mobile data, I couldn't work with IPv6.
    \item However, the DNS query for ping (but not traceroute) defaulted to IPv6 address when using the mobile hotspot, even though it failed. Anyway, to force the traceroute or ping command to use IPv4, we can use the option -4 in the command (like \texttt{traceroute -4 www.google.com}).
    \item On the second traceroute to www.google.com, we can see that there were two packets which were sent to routers which didn't send any replies to the traceroute requests, as in hop 5.
\end{enumerate}

\subsection{Ping packet size investigation}

The maximum packet size can be interpreted in two ways - the maximum packet size limited by the implementation of ping and the maximum packet size that we can send to a server which is successful in eliciting a response. We call them \textbf{Type 1} and \textbf{Type 2} respectively.\nl

\textbf{Type 1}\nl

When I attempt to send a packet of size 100000, ping throws an error and tells me that I can send at most 65507 bytes. I think that this is because the maximum size of an IPv4 packet is 65535 and 28 bytes go into the header of the packet.\nl
\textbf{WiFi connection} (IPv4)

\begin{lstlisting}
\$ ping -4 google.com -s 100000
ping: packet size 100000 is too large. Maximum is 65507
\$ ping -4 google.com -s 65507
PING google.com (216.58.221.46) 65507(65535) bytes of data.
^C
--- google.com ping statistics ---
3 packets transmitted, 0 received, 100% packet loss, time 2049ms
\end{lstlisting}

In the case of the warning with IPv6 (which fails to elicit a response from the server but still sends something), the possible maximum size is not mentioned in the warning message, so I did a binary search on the largest size that I can send without an error message in the internal implementation, and it turns out to be 65527 bytes (the error thrown in that case was sendmsg: Message too long).\nl
I suspected that this might be due to a packet limit of 65535 bytes, and some data of size 8 bytes appended to the data before it is sent via sendmsg.\nl
For confirming this, I used a \textbf{different} mobile hotspot and tried to ping google.com, which failed. However I then pinged localhost and it was successful for 65527 bytes and not 65528 bytes.\nl
\textbf{First mobile hotspot} (IPv6 fails to get a response from google.com and localhost)

\begin{lstlisting}
\$ ping -6 google.com -s 65527
PING google.com(del03s07-in-x0e.1e100.net (2404:6800:4002:806::200e)) 65527 data bytes
^C
--- google.com ping statistics ---
2 packets transmitted, 0 received, 100% packet loss, time 1004ms

\$ ping -6 google.com -s 65528
PING google.com(del03s07-in-x0e.1e100.net (2404:6800:4002:806::200e)) 65528 data bytes
ping: sendmsg: Message too long
ping: sendmsg: Message too long
^C
--- google.com ping statistics ---
2 packets transmitted, 0 received, 100% packet loss, time 1022ms

\$ ping -6 localhost -s 65527
PING localhost(64:ff9b::c73b:f299 (64:ff9b::c73b:f299)) 65527 data bytes
^C
--- localhost ping statistics ---
5 packets transmitted, 0 received, 100% packet loss, time 4077ms

\$ ping -6 localhost -s 65528
PING localhost(64:ff9b::c73b:f299 (64:ff9b::c73b:f299)) 65528 data bytes
ping: sendmsg: Message too long
ping: sendmsg: Message too long
^C
--- localhost ping statistics ---
2 packets transmitted, 0 received, 100% packet loss, time 1022ms
\end{lstlisting}
\nln

\textbf{Second mobile hotspot} (IPv6 fails to connect but works with localhost)

\begin{lstlisting}
\$ ping -6 google.com
ping: connect: Network is unreachable

\$ ping -6 localhost -s 65527
PING localhost(ip6-localhost (::1)) 65527 data bytes
65535 bytes from ip6-localhost (::1): icmp_seq=1 ttl=64 time=0.108 ms
65535 bytes from ip6-localhost (::1): icmp_seq=2 ttl=64 time=0.104 ms
^C
--- localhost ping statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 1006ms
rtt min/avg/max/mdev = 0.104/0.106/0.108/0.002 ms
\$ ping -6 localhost -s 65528
PING localhost(ip6-localhost (::1)) 65528 data bytes
ping: sendmsg: Message too long
ping: sendmsg: Message too long
^C
--- localhost ping statistics ---
2 packets transmitted, 0 received, 100% packet loss, time 1019ms
\end{lstlisting}
\nln

\textbf{Type 2}\nl

The following is the data for ping request to 3 different hosts.
\begin{enumerate}
\item google.com: 68 bytes

\begin{lstlisting}
\$ ping google.com -s 68
PING google.com (172.217.160.238) 68(96) bytes of data.
76 bytes from del03s09-in-f14.1e100.net (172.217.160.238): icmp_seq=1 ttl=118 time=3.28 ms
76 bytes from del03s09-in-f14.1e100.net (172.217.160.238): icmp_seq=2 ttl=118 time=2.88 ms
76 bytes from del03s09-in-f14.1e100.net (172.217.160.238): icmp_seq=3 ttl=118 time=2.53 ms
^C
--- google.com ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 2003ms
rtt min/avg/max/mdev = 2.533/2.895/3.275/0.303 ms
\$ ping google.com -s 69
PING google.com (172.217.160.238) 69(97) bytes of data.
^C
--- google.com ping statistics ---
10 packets transmitted, 0 received, 100% packet loss, time 9013ms

\end{lstlisting}

\item facebook.com: 1464 bytes

\begin{lstlisting}
\$ ping facebook.com -s 1464
PING facebook.com (157.240.198.35) 1464(1492) bytes of data.
1472 bytes from edge-star-mini-shv-01-del1.facebook.com (157.240.198.35): icmp_seq=1 ttl=58 time=6.40 ms
1472 bytes from edge-star-mini-shv-01-del1.facebook.com (157.240.198.35): icmp_seq=2 ttl=58 time=5.41 ms
1472 bytes from edge-star-mini-shv-01-del1.facebook.com (157.240.198.35): icmp_seq=3 ttl=58 time=5.32 ms
^C
--- facebook.com ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 2001ms
rtt min/avg/max/mdev = 5.324/5.712/6.403/0.489 ms
\$ ping facebook.com -s 1465
PING facebook.com (157.240.198.35) 1465(1493) bytes of data.
From _gateway (192.168.1.1) icmp_seq=1 Frag needed and DF set (mtu = 1492)
^C
--- facebook.com ping statistics ---
5 packets transmitted, 0 received, +1 errors, 100% packet loss, time 4069ms

\$ ping facebook.com -s 1466
PING facebook.com (157.240.198.35) 1466(1494) bytes of data.
^C
--- facebook.com ping statistics ---
6 packets transmitted, 0 received, 100% packet loss, time 5104ms
\end{lstlisting}


\item iitd.ac.in: 17752 bytes (with very high packet loss). For zero packet loss, it was around 3000 bytes.

\begin{lstlisting}
\$ ping iitd.ac.in -s 17753
PING iitd.ac.in (103.27.9.24) 17753(17781) bytes of data.
^C
--- iitd.ac.in ping statistics ---
14 packets transmitted, 0 received, 100% packet loss, time 13291ms

\$ ping iitd.ac.in -s 17752
PING iitd.ac.in (103.27.9.24) 17752(17780) bytes of data.
17760 bytes from 103.27.9.24 (103.27.9.24): icmp_seq=5 ttl=54 time=15.5 ms
^C
--- iitd.ac.in ping statistics ---
6 packets transmitted, 1 received, 83.3333% packet loss, time 5096ms
rtt min/avg/max/mdev = 15.511/15.511/15.511/0.000 ms
\end{lstlisting}

\end{enumerate}

\pagebreak

\section{Replicating \texttt{traceroute} using \texttt{ping}}

\subsection{Code}

\begin{minted}{bash}
#!/bin/bash

# help message
if [ $# -eq 0 ]
then
    echo $0: usage: replicate_traceroute.sh \<space separated host list\> \
        \[-t \<ttl\> \(default=30\)\] \[-c \<number of packets\> \(default=1\)\] \
        \[-s \<packet size\(bytes\)\> \(default=60\)\]
    exit 1
fi

# default values
ttl=30
count=1
size=60
hosts=()

# parsing input options
while [ $# -gt 0 ]
do
    option=$1
    shift
    case $option in
        -t)
            ttl=$1
            shift;;
        -c)
            count=$1
            shift;;
        -s)
            size=$1
            shift;;
        *)
            hosts+=( "$option" );;
    esac
done

# main body
for host in "${hosts[@]}"
do
    echo Current host: $host
    for (( i=1; i<=$ttl; i++ ))
    do
        out=$(ping -4 -t $i -c $count -s $size $host | grep -o '[0-9]*\.[0-9]*\.[0-9]*\.[0-9]*')
        ctr=0
        for ip in $out
        do
            let "ctr = $ctr + 1"
            if [[ $ctr -eq 2 ]]
            then
                echo Hop number $i
                ping_output=$(ping -4 -t $ttl -c $count -s $size $ip | grep '[fF]rom')
                if [[ -z $ping_output ]]
                then
                    echo No ping response
                else
                    echo $ping_output
                fi
            fi
        done
        if [[ $ctr -lt 2 ]]
        then
            echo Hop number $i
            echo Timeout
        fi
    done
done
\end{minted}

\subsection{Explanation}

\subsubsection{Usage}

To get instructions on usage, run the script without any arguments.

\subsubsection{Explanation}

\begin{enumerate}[a.]
    \item The first condition check is for usage help.
    \item Then we initialize various parameters to default values and parse input options.
    \item For each host, we do the following:
        \begin{enumerate}[i.]
            \item For each integer value of ttl from 1 to the specified maximum ttl value, we ping the given host with the specified number of packets with a specified size, and use a regex to find the IP addresses in the output. The reason why we can't simply use this output is because it doesn't have latency, and instead it just mentions that TTL has been exceeded.
            \item Then we find the second IP address in this set of IP addresses, and ping again, and we use the grep command to print the lines with the word `From' or `from' in it, since it was observed that ping output always has one of these words just before the IP address of the router if ping doesn't have 100\% packet loss. In the other case, where the grep output is empty, this means there is no ping response.
            \item If there is no second IP, then this means that there was no response to the ping, and we print Timeout for that hop
        \end{enumerate}
\end{enumerate}

\pagebreak

\section{Internet architecture}

I chose the servers in
\begin{enumerate}
    \item Greece (https://foss.aueb.gr/network\_tools/index.php) 
    \item USA (http://www.net.princeton.edu/traceroute.html)
\end{enumerate}

\subsection{Table for hops for each traceroute}

\begin{center}
    \begin{tabular}{|c|c|c|c|c|c|c|}
        \hline
        Hop count   & Utah  & Cape Town*    & IITD*         & Vayu IITD & Google    & Facebook  \\
        \hline
        Greece      & 25    & 17+$\epsilon$ & 11+$\epsilon$ &  17       & 9         & 8         \\
        \hline
        USA         & 20    & 11+$\epsilon$ & 9+$\epsilon$  &  16       & 9         & 14        \\
        \hline
        India       & 30    & 13+$\epsilon$ & 5+$\epsilon$  &  9-11     & 7         & 7         \\
        \hline
    \end{tabular}
\end{center}

* - In these cases, there was no response from the server to traceroute requests, so the number of hops is taken to be equal to the number of hops till the last response (and for each host, the last IP is same in all three traceroutes). However, by comparison of IITD and Vayu IITD, it must be noted that the number of hops reported are actually less than the real number of hops. The values of $\epsilon$ can be all different in each case depending on the routing map for each
traceroute.

\begin{enumerate}
    
    \item \textbf{Are the number of hops between nodes in the same continent lower than the number of hops between nodes in different continents?} \nl
        Apart from USA, this seems to be partially true, more specifically, there seems to be a slight correlation between the number of hops and the physical distance between the locations. For USA, the number of hops might be different because of different routing structures, due to dynamic routing which can vary vastly.

        However, I don't expect this to hold in general as a hard and fast rule, since there can be a lot of hops for connecting within the same continent as well.

        The time taken to reach the destination might be better correlated than the number of hops, though.

    \item \textbf{Do Google and Facebook differ from the others in the number of hops required to reach them? Why would this be so?}\nl
        Yes, they do. The number of hops is significantly less in the case of Google and Facebook. The reason behind this is that Google and Facebook have CDNs and in some cases direct connections to regional ISPs, which drastically reduces the number of hops.

\end{enumerate}

\subsection{Latency between traceroute sources and web-servers}

\begin{center}
    \begin{tabular}{|c|c|c|c|c|c|c|}
        \hline
        Latency(ms) & Utah  & Cape Town*        & IITD*             & Vayu IITD & Google    & Facebook  \\
        \hline
        Greece      & 171   & 219+$\epsilon$    & 185+$\epsilon$    &  217      & 28        & 29        \\
        \hline
        USA         & 52    & 201+$\epsilon$    & 231+$\epsilon$    &  254      & 3.9       & 39        \\
        \hline
        India       & 300   & 292+$\epsilon$    & 7.8+$\epsilon$    &  6-15     & 5         & 3         \\
        \hline
    \end{tabular}
\end{center}

\begin{enumerate}
    \item \textbf{Does the latency seem to be related to the number of hops, being higher when there are more hops? Why is this the case?}\nl
        There seems to be only a very slight relation, and it seems like the latency is highly dependent on other factors more, like queue length, congestion control, queueing probability, infrastructure at each hop, configuration of web servers (for comparison across web servers).

        For example, even though we can figure out a slight correlation in the case of extremes (i.e. minimum and maximum hop counts in most cases for a given web server), the order sometimes flips drastically.
\end{enumerate}

\subsection{Web servers}

\begin{enumerate}
    \item \textbf{Which of the destination web-servers are resolved to the same IP address irrespective of from where you do a traceroute to them?}\nl
        The web servers for www.utah.edu, www.uct.ac.za, www.iitd.ac.in, vayu.iitd.ac.in are always resolved to the same IP address irrespective of where we do a traceroute to them.
    \item \textbf{Why do you think some web-servers are resolved to different IP addresses when queried from different parts of the world? You can also use nslookup to change the DNS server that you want to use.}\nl
        This is because for some websites, there are replicas of the websites maintained at many different servers. For example, to reduce the query time for a Google search, there might be a web server replica near the user, and thus the DNS server resolves the domain name to an optimal server, with optimality defined in terms of factors like distance, best congestion control and so on. For example, Google and Facebook domain names resolve to the servers as in Appendix 2.
\end{enumerate}

\subsection{Traceroute to different IP addresses}

\begin{enumerate}
    \item \textbf{If you do traceroutes from the same starting point to different IP addresses you found for the same web-server, do the paths appear different? Which ones are longer?}\nl
        Yes, the paths appear very different, and this is because of the IPs belonging to the servers close to the DNS servers.

        For Google, the increasing order of latency (as well as increasing order of number of hops) is India, USA, New Zealand, Venezuela, UK, so it seems like the paths which are completely inside the same country are the shortest, then come the ones which have most of the links across oceans, and then come the ones which have links across land. The USA path is faster than all paths other than India for Google maybe because of some faster links connecting headquarters to other
        countries. Latency also depends on factors like queueing, link speeds, congestion control etc (as explained in a previous question).

        For Facebook, the increasing order of latency is India, UK, USA, Russia, Venezuela, New Zealand, and the increasing order of number of hops is India, USA, Russia, New Zealand, UK, Venezuela. The number of hops can be explained by roughly the same trend as before (with Venezuela being an outlier). The latency can be explained by the strong presence of Facebook in UK, and the remaining trend is similar upto minor errors, however this is not an adequate explanation, as
        latency is also highly dependent on queueing, link speeds and capacities, congestion control etc.

\end{enumerate}

\subsection{Tracerouting from different countries to Google and Facebook}

\begin{enumerate}
    \item \textbf{Try tracerouting to Google and Facebook from different countries of traceroute servers around the world. Are you able to find any countries that do not seem to have their local ISPs directly peered with Google and Facebook?}\nl

        Yes, Greece is such a country. In the traceroute for Greece for google.com in the previous problem, we see that the local ISP is GRNET, and the higher tier ISP is GEANT (situated in UK), and the next hop is to an IP address allocated to Google, hence there is no direct peering between this local ISP and and Google. This happens in the case of Facebook as well.


\end{enumerate}

\pagebreak

\section{Appendix 1 (traceroute output dump for 3a, 3b, 3c)}

This section contains the traceroute data for all three traceroute locations.

\begin{enumerate}
    \item Greece
        \begin{lstlisting}
1. utah.edu

traceroute to www.utah.edu (155.98.186.21), 30 hops max, 60 byte packets
1 cslab254.cs.aueb.gr (195.251.248.254) 0.130 ms 0.161 ms 9.156 ms
2 aueb-2-gw.kolettir.access-link.grnet.gr (62.217.98.202) 1.075 ms 1.164 ms 9.248 ms
3 grnet-bckp.mx1.ath2.gr.geant.net (62.40.124.141) 4.109 ms 10.684 ms 4.083 ms
4 ae0.mx2.ath.gr.geant.net (62.40.98.140) 2.847 ms 2.819 ms 14.434 ms
5 ae2.mx1.mil2.it.geant.net (62.40.98.150) 35.245 ms 36.185 ms 26.949 ms
6 ae6.mx1.gen.ch.geant.net (62.40.98.80) 44.053 ms 35.098 ms 37.019 ms
7 ae6.mx1.par.fr.geant.net (62.40.98.183) 41.075 ms 41.121 ms 41.222 ms
8 ae5.mx1.lon2.uk.geant.net (62.40.98.178) 52.267 ms 50.600 ms 50.549 ms
9 ae6.mx1.lon.uk.geant.net (62.40.98.36) 49.369 ms 49.816 ms 49.334 ms
10 internet2-gw.mx1.lon.uk.geant.net (62.40.124.45) 123.985 ms 121.984 ms 124.312 ms
11 ae-0.4079.rtsw2.ashb.net.internet2.edu (162.252.70.137) 125.095 ms 124.903 ms 123.197 ms
12 ae-6.4079.rtsw.chic.net.internet2.edu (162.252.70.61) 138.796 ms 141.929 ms 141.220 ms
13 ae-3.4079.rtsw.kans.net.internet2.edu (162.252.70.141) 149.073 ms 148.148 ms 147.115 ms
14 ae-5.4079.rtsw.salt.net.internet2.edu (162.252.70.145) 168.927 ms 170.698 ms 168.598 ms
15 198.71.45.231 (198.71.45.231) 167.854 ms 166.755 ms 168.712 ms
16 140.197.253.23 (140.197.253.23) 170.688 ms 167.217 ms 169.381 ms
17 140.197.253.139 (140.197.253.139) 171.466 ms 171.342 ms 171.351 ms
18 199.104.93.117 (199.104.93.117) 169.408 ms 169.426 ms 169.365 ms
19 199.104.93.102 (199.104.93.102) 167.842 ms 170.068 ms 167.822 ms
20 155.99.130.59 (155.99.130.59) 168.033 ms 155.99.130.57 (155.99.130.57) 171.364 ms 155.99.130.59 (155.99.130.59) 167.924 ms
21 155.99.130.105 (155.99.130.105) 168.326 ms 155.99.130.101 (155.99.130.101) 169.315 ms 155.99.130.103 (155.99.130.103) 170.287 ms
22 155.99.132.7 (155.99.132.7) 171.310 ms 171.464 ms 155.99.132.5 (155.99.132.5) 170.569 ms
23 * * *
24 * * *
25 uhome.web.utah.edu (155.98.186.21) 171.818 ms 171.818 ms 171.775 ms

2. www.uct.ac.za

traceroute to www.uct.ac.za (137.158.154.230), 30 hops max, 60 byte packets
1 cslab254.cs.aueb.gr (195.251.248.254) 0.398 ms 0.399 ms 0.382 ms
2 aueb-2-gw.kolettir.access-link.grnet.gr (62.217.98.202) 1.361 ms 1.347 ms 1.284 ms
3 grnet-bckp.mx1.ath2.gr.geant.net (62.40.124.141) 2.099 ms 2.177 ms 1.982 ms
4 ae0.mx2.ath.gr.geant.net (62.40.98.140) 2.665 ms 2.534 ms 2.718 ms
5 ae2.mx1.mil2.it.geant.net (62.40.98.150) 29.181 ms 29.046 ms 28.365 ms
6 ae6.mx1.gen.ch.geant.net (62.40.98.80) 37.123 ms 36.198 ms 36.172 ms
7 ae2.mx1.fra.de.geant.net (62.40.98.180) 43.492 ms 44.335 ms 44.406 ms
8 ae7.mx1.ams.nl.geant.net (62.40.98.186) 49.667 ms 48.983 ms 48.973 ms
9 ubuntunet-gw.mx1.ams.nl.geant.net (62.40.125.22) 47.786 ms 48.896 ms 49.775 ms
10 lt11-3-0-2-ua-nl-ams1-01.ubuntunet.net (196.32.210.177) 48.899 ms 48.073 ms 50.550 ms
11 unknown.uni.net.za (196.32.209.94) 131.393 ms 128.827 ms 128.374 ms
12 xe-5-3-0-10-mtz1-pe1.net.tenet.ac.za (155.232.1.21) 296.614 ms 297.395 ms 297.417 ms
13 xe-2-2-1-0-isd1-pe2.net.tenet.ac.za (155.232.1.62) 306.296 ms xe-3-2-0-0-isd1-pe2.net.tenet.ac.za (155.232.6.234) 304.868 ms xe-4-3-1-0-isd1-pe2.net.tenet.ac.za (155.232.6.252) 307.320 ms
14 ae0-0-isd1-pe1.net.tenet.ac.za (155.232.128.72) 307.513 ms 307.682 ms 306.327 ms
15 et-1-1-4-0-cpt3-pe1.net.tenet.ac.za (155.232.1.148) 218.118 ms 218.091 ms 221.627 ms
16 et-0-0-1-0-cpt7-pe1.net.tenet.ac.za (155.232.64.70) 217.164 ms 217.226 ms 217.982 ms
17 154.114.124.1 (154.114.124.1) 219.963 ms 217.599 ms 219.222 ms
18 * * *
19 * * *
20 * * *
21 * * *
22 * * *
23 * * *
24 * * *
25 * * *
26 * * *
27 * * *
28 * * *
29 * * *
30 * * *

3. www.iitd.ac.in

traceroute to www.iitd.ac.in (103.27.9.24), 30 hops max, 60 byte packets
1 cslab254.cs.aueb.gr (195.251.248.254) 0.508 ms 0.461 ms 0.401 ms
2 aueb-2-gw.kolettir.access-link.grnet.gr (62.217.98.202) 1.309 ms 1.276 ms 1.270 ms
3 grnet-bckp.mx1.ath2.gr.geant.net (62.40.124.141) 1.932 ms 2.132 ms 2.053 ms
4 ae0.mx2.ath.gr.geant.net (62.40.98.140) 2.639 ms 2.446 ms 2.829 ms
5 ae2.mx1.mil2.it.geant.net (62.40.98.150) 27.252 ms 29.359 ms 29.331 ms
6 ae6.mx1.gen.ch.geant.net (62.40.98.80) 37.130 ms 35.026 ms 37.294 ms
7 nkn-gw.mx1.gen.ch.geant.net (62.40.125.215) 32.931 ms 34.162 ms 35.009 ms
8 180.149.48.28 (180.149.48.28) 51.060 ms 180.149.48.33 (180.149.48.33) 35.213 ms 180.149.48.28 (180.149.48.28) 51.773 ms
9 180.149.48.30 (180.149.48.30) 64.226 ms 63.214 ms 65.165 ms
10 180.149.48.5 (180.149.48.5) 185.919 ms 194.778 ms 194.835 ms
11 180.149.48.17 (180.149.48.17) 185.864 ms * 184.566 ms
12 * * *
13 * * *
14 * * *
15 * * *
16 * * *
17 * * *
18 * * *
19 * * *
20 * * *
21 * * *
22 * * *
23 * * *
24 * * *
25 * * *
26 * * *
27 * * *
28 * * *
29 * * *
30 * * *

4. vayu.iitd.ac.in

traceroute to vayu.iitd.ac.in (103.27.9.4), 30 hops max, 60 byte packets
1 cslab254.cs.aueb.gr (195.251.248.254) 0.320 ms 0.284 ms 0.247 ms
2 aueb-2-gw.kolettir.access-link.grnet.gr (62.217.98.202) 1.258 ms 1.213 ms 1.257 ms
3 grnet-bckp.mx1.ath2.gr.geant.net (62.40.124.141) 2.259 ms 2.196 ms 2.157 ms
4 ae0.mx2.ath.gr.geant.net (62.40.98.140) 3.488 ms 3.442 ms 3.452 ms
5 ae2.mx1.mil2.it.geant.net (62.40.98.150) 28.317 ms 27.190 ms 27.143 ms
6 ae6.mx1.gen.ch.geant.net (62.40.98.80) 36.179 ms 36.454 ms 35.665 ms
7 nkn-gw.mx1.gen.ch.geant.net (62.40.125.215) 34.187 ms 34.819 ms 34.142 ms
8 180.149.48.33 (180.149.48.33) 36.493 ms 36.472 ms 180.149.48.28 (180.149.48.28) 48.804 ms
9 180.149.48.1 (180.149.48.1) 201.589 ms 180.149.48.30 (180.149.48.30) 68.581 ms 180.149.48.1 (180.149.48.1) 203.852 ms
10 180.149.48.5 (180.149.48.5) 194.155 ms 194.816 ms 192.623 ms
11 * * 180.149.48.17 (180.149.48.17) 174.477 ms
12 * * *
13 * * *
14 * * *
15 * * 103.27.9.4 (103.27.9.4) 222.460 ms
16 103.27.9.4 (103.27.9.4) 213.570 ms 208.252 ms 205.847 ms
17 103.27.9.4 (103.27.9.4) 225.264 ms 208.538 ms 217.917 ms

5. www.google.com

traceroute to www.google.com (216.58.205.68), 30 hops max, 60 byte packets
1 cslab254.cs.aueb.gr (195.251.248.254) 0.179 ms 0.151 ms 0.142 ms
2 aueb-2-gw.kolettir.access-link.grnet.gr (62.217.98.202) 1.751 ms 1.300 ms 1.286 ms
3 grnet-ias-geant-gw.mx1.ath2.gr.geant.net (83.97.88.65) 1.879 ms 1.984 ms 2.019 ms
4 ae0.mx2.ath.gr.geant.net (62.40.98.140) 26.552 ms 26.330 ms 26.303 ms
5 ae2.mx1.mil2.it.geant.net (62.40.98.150) 29.134 ms 29.106 ms 27.754 ms
6 72.14.203.32 (72.14.203.32) 196.867 ms 196.138 ms 34.293 ms
7 108.170.245.81 (108.170.245.81) 28.976 ms 108.170.245.65 (108.170.245.65) 29.131 ms 108.170.245.81 (108.170.245.81) 30.080 ms
8 216.239.42.9 (216.239.42.9) 28.123 ms 27.232 ms 216.239.42.11 (216.239.42.11) 30.124 ms
9 mil04s25-in-f4.1e100.net (216.58.205.68) 28.062 ms 26.973 ms 28.300 ms

6. www.facebook.com

traceroute to www.facebook.com (31.13.84.36), 30 hops max, 60 byte packets
1 cslab254.cs.aueb.gr (195.251.248.254) 0.393 ms 0.393 ms 0.380 ms
2 aueb-2-gw.kolettir.access-link.grnet.gr (62.217.98.202) 13.749 ms 13.691 ms 13.727 ms
3 grnet-ias-geant-gw.mx1.ath2.gr.geant.net (83.97.88.65) 2.133 ms 2.053 ms 2.097 ms
4 ae0.mx1.vie.at.geant.net (62.40.98.147) 30.595 ms 31.075 ms 30.570 ms
5 ae22.pr04.vie1.tfbnw.net (103.4.98.46) 29.519 ms 30.620 ms 29.493 ms
6 po104.psw02.vie1.tfbnw.net (31.13.28.25) 28.549 ms 28.443 ms po104.psw01.vie1.tfbnw.net (31.13.27.197) 30.632 ms
7 157.240.38.237 (157.240.38.237) 29.536 ms 157.240.38.83 (157.240.38.83) 28.315 ms 157.240.38.253 (157.240.38.253) 28.216 ms
8 edge-star-mini-shv-01-vie1.facebook.com (31.13.84.36) 29.402 ms 29.575 ms 28.301 ms
        \end{lstlisting}

    \item USA
        \begin{lstlisting}
1. utah.edu

tracing path from www.net.princeton.edu to 155.98.186.21 ...

traceroute to 155.98.186.21 (155.98.186.21), 30 hops max, 40 byte packets
 1  core-87-router (128.112.128.2)  1.037 ms  0.914 ms  0.503 ms
 2  rtr-border-hpcrc-router.princeton.edu (128.112.12.110)  1.621 ms  1.235 ms  1.443 ms
 3  local1.princeton.magpi.net (216.27.98.113)  2.577 ms  2.509 ms  2.496 ms
 4  216.27.100.18 (216.27.100.18)  2.513 ms  2.650 ms  2.502 ms
 5  et-1-1-0.4079.rtsw.wash.net.internet2.edu (162.252.70.119)  6.060 ms  6.096 ms  6.148 ms
 6  ae-0.4079.rtsw2.ashb.net.internet2.edu (162.252.70.137)  6.815 ms  7.038 ms  6.790 ms
 7  ae-6.4079.rtsw.chic.net.internet2.edu (162.252.70.61)  21.491 ms  20.370 ms  20.662 ms
 8  ae-3.4079.rtsw.kans.net.internet2.edu (162.252.70.141)  30.701 ms  30.654 ms  31.752 ms
 9  ae-5.4079.rtsw.salt.net.internet2.edu (162.252.70.145)  50.529 ms  50.910 ms  50.560 ms
10  198.71.45.231 (198.71.45.231)  50.829 ms  50.875 ms  50.820 ms
11  140.197.253.23 (140.197.253.23)  51.207 ms  51.119 ms  52.266 ms
12  140.197.253.139 (140.197.253.139)  51.208 ms  51.183 ms  51.282 ms
13  199.104.93.117 (199.104.93.117)  51.341 ms  51.217 ms  51.393 ms
14  199.104.93.102 (199.104.93.102)  52.068 ms  52.029 ms  51.911 ms
15  155.99.130.59 (155.99.130.59)  51.749 ms  51.730 ms  51.839 ms
16  155.99.130.101 (155.99.130.101)  52.111 ms 155.99.130.107 (155.99.130.107)  231.392 ms  52.035 ms
17  155.99.132.3 (155.99.132.3)  51.468 ms  51.933 ms 155.99.132.7 (155.99.132.7)  51.840 ms
18  * * *
19  * * *
20  www.utah.edu (155.98.186.21)  52.314 ms  51.740 ms  51.911 ms

Done. 

2. www.uct.ac.za

tracing path from www.net.princeton.edu to 137.158.154.230 ...

traceroute to 137.158.154.230 (137.158.154.230), 30 hops max, 40 byte packets
 1  core-87-router (128.112.128.2)  189.978 ms  0.750 ms  0.444 ms
 2  rtr-border-hpcrc-router.princeton.edu (128.112.12.110)  1.432 ms  2.947 ms  2.038 ms
 3  local1.princeton.magpi.net (216.27.98.113)  3.125 ms  2.464 ms  2.357 ms
 4  216.27.100.18 (216.27.100.18)  4.639 ms  3.490 ms  2.994 ms
 5  et-1-1-0.4079.rtsw.wash.net.internet2.edu (162.252.70.119)  6.913 ms  6.108 ms  5.954 ms
 6  ae-1.4079.rtsw.atla.net.internet2.edu (198.71.45.6)  18.889 ms  18.856 ms  18.891 ms
 7  et-3-0-0.4079.rtsw.jack.net.internet2.edu (162.252.70.43)  24.498 ms  24.385 ms  24.224 ms
 8  et-0-1-4-1972-cpt3-pe1.net.tenet.ac.za (155.232.71.2)  190.578 ms  190.408 ms  190.662 ms
 9  lt-0-0-0-2-cpt3-pe1.net.tenet.ac.za (155.232.64.144)  267.535 ms lt-1-0-0-2-cpt3-pe1.net.tenet.ac.za (155.232.64.36)  200.248 ms lt-0-1-0-2-cpt3-pe1.net.tenet.ac.za (155.232.64.146)  201.393 ms
10  et-0-0-1-0-cpt7-pe1.net.tenet.ac.za (155.232.64.70)  208.151 ms  199.922 ms  199.707 ms
11  154.114.124.1 (154.114.124.1)  201.188 ms  201.138 ms  200.403 ms
12  * * *
13  * * *
14  * * *
15  * * *
16  * * *
17  * * *
18  * * *
19  * * *
20  * * *
21  * * *
22  * * *
23  * * *
24  * * *
25  * * *
26  * * *
27  * * *
28  * * *
29  * * *
30  * * *

Done.

3. www.iitd.ac.in

tracing path from www.net.princeton.edu to 103.27.9.24 ...

traceroute to 103.27.9.24 (103.27.9.24), 30 hops max, 40 byte packets
 1  core-87-router (128.112.128.2)  1.173 ms  0.932 ms  0.500 ms
 2  rtr-border-hpcrc-router.princeton.edu (128.112.12.110)  53.212 ms  1.518 ms  2.492 ms
 3  local1.princeton.magpi.net (216.27.98.113)  2.467 ms  2.401 ms  2.332 ms
 4  216.27.100.18 (216.27.100.18)  2.651 ms  2.675 ms  2.433 ms
 5  et-7-1-0.4079.rtsw.newy32aoa.net.internet2.edu (162.252.70.102)  9.191 ms  5.874 ms  5.700 ms
 6  180.149.48.12 (180.149.48.12)  95.234 ms  96.070 ms  95.089 ms
 7  180.149.48.1 (180.149.48.1)  248.347 ms 180.149.48.21 (180.149.48.21)  95.220 ms  95.201 ms
 8  180.149.48.17 (180.149.48.17)  248.408 ms 180.149.48.5 (180.149.48.5)  231.841 ms 180.149.48.17 (180.149.48.17)  255.757 ms
 9  180.149.48.17 (180.149.48.17)  231.300 ms * *12 * * *
10  * * *
11  * * *
12  * * *
13  * * *
14  * * *
15  * * *
16  * * *
17  * * *
18  * * *
19  * * *
20  * * *
21  * * *
22  * * *
23  * * *
24  * * *
25  * * *
26  * * *
27  * * *
28  * * *
29  * * *
30  * * *

Done.

4. vayu.iitd.ac.in

tracing path from www.net.princeton.edu to 103.27.9.4 ...

traceroute to 103.27.9.4 (103.27.9.4), 30 hops max, 40 byte packets
 1  core-87-router (128.112.128.2)  1.440 ms  0.823 ms  0.598 ms
 2  rtr-border-87-router.princeton.edu (128.112.12.78)  1.441 ms  1.311 ms  1.371 ms
 3  rtr-border-hpcrc-router.princeton.edu (204.153.48.54)  1.994 ms  1.832 ms  1.830 ms
 4  local1.princeton.magpi.net (216.27.98.113)  2.830 ms  2.702 ms  2.642 ms
 5  216.27.100.18 (216.27.100.18)  2.983 ms  3.019 ms  2.779 ms
 6  et-7-1-0.4079.rtsw.newy32aoa.net.internet2.edu (162.252.70.102)  4.810 ms  4.865 ms  4.800 ms
 7  180.149.48.12 (180.149.48.12)  95.287 ms  95.348 ms  95.260 ms
 8  180.149.48.1 (180.149.48.1)  248.754 ms  248.570 ms 180.149.48.21 (180.149.48.21)  95.452 ms
 9  180.149.48.17 (180.149.48.17)  248.593 ms  249.805 ms 180.149.48.5 (180.149.48.5)  231.961 ms
10  180.149.48.17 (180.149.48.17)  233.157 ms * *
11  * * *
12  * * *
13  * * *
14  * * *
15  103.27.9.4 (103.27.9.4)  254.762 ms  254.188 ms  274.601 ms
16  103.27.9.4 (103.27.9.4)  270.856 ms  254.636 ms  254.378 ms

Done.

5. www.google.com

tracing path from www.net.princeton.edu to 172.217.11.36 ...

traceroute to 172.217.11.36 (172.217.11.36), 30 hops max, 40 byte packets
 1  core-87-router (128.112.128.2)  0.788 ms  0.750 ms  0.532 ms
 2  rtr-border-hpcrc-router.princeton.edu (128.112.12.110)  1.655 ms  1.294 ms  3.040 ms
 3  rtr-border-87-router.princeton.edu (204.153.48.49)  38.303 ms  3.315 ms  2.017 ms
 4  ve1205.core2.nyc4.he.net (216.66.49.73)  3.258 ms  3.090 ms  3.129 ms
 5  100ge15-1.core1.nyc4.he.net (184.104.195.169)  3.233 ms  3.126 ms  3.017 ms
 6  core1-0-0-8.lga.net.google.com (198.32.118.39)  3.360 ms  3.298 ms  3.165 ms
 7  108.170.248.1 (108.170.248.1)  4.843 ms 108.170.248.65 (108.170.248.65)  3.942 ms  3.897 ms
 8  172.253.69.219 (172.253.69.219)  4.097 ms  4.072 ms 172.253.70.7 (172.253.70.7)  4.030 ms
 9  lga25s61-in-f4.1e100.net (172.217.11.36)  3.814 ms  3.935 ms  3.841 ms

Done. 

6. www.facebook.com

tracing path from www.net.princeton.edu to 31.13.93.35 ...

traceroute to 31.13.93.35 (31.13.93.35), 30 hops max, 40 byte packets
 1  core-87-router (128.112.128.2)  0.935 ms  0.549 ms  0.613 ms
 2  rtr-border-hpcrc-router.princeton.edu (128.112.12.110)  1.477 ms  1.342 ms  1.611 ms
 3  te0-2-1-4.nr51.b003003-4.phl03.atlas.cogentco.com (38.122.150.1)  2.889 ms  2.648 ms  2.650 ms
 4  be2326.rcr21.phl03.atlas.cogentco.com (154.24.67.234)  2.989 ms  3.046 ms  2.885 ms
 5  be3164.rcr22.phl01.atlas.cogentco.com (154.54.25.141)  3.276 ms  3.146 ms  3.173 ms
 6  be2137.rcr52.bwi01.atlas.cogentco.com (154.54.83.62)  5.652 ms be2133.rcr51.bwi01.atlas.cogentco.com (154.54.83.58)  5.720 ms be2137.rcr52.bwi01.atlas.cogentco.com (154.54.83.62)  5.670 ms
 7  be2132.ccr42.dca01.atlas.cogentco.com (154.54.82.229)  7.348 ms be2131.ccr41.dca01.atlas.cogentco.com (154.54.82.101)  7.281 ms  7.257 ms
 8  be2112.ccr41.atl01.atlas.cogentco.com (154.54.7.158)  18.712 ms be2113.ccr42.atl01.atlas.cogentco.com (154.54.24.222)  18.598 ms be2112.ccr41.atl01.atlas.cogentco.com (154.54.7.158)  18.408 ms
 9  be2687.ccr41.iah01.atlas.cogentco.com (154.54.28.70)  32.678 ms  32.292 ms be2690.ccr42.iah01.atlas.cogentco.com (154.54.28.130)  32.617 ms
10  be2443.ccr32.dfw01.atlas.cogentco.com (154.54.44.230)  37.664 ms be2441.ccr31.dfw01.atlas.cogentco.com (154.54.41.66)  37.657 ms  37.865 ms
11  38.142.38.66 (38.142.38.66)  42.368 ms  63.869 ms  39.899 ms
12  po101.psw01.dfw5.tfbnw.net (157.240.40.253)  39.914 ms po103.psw04.dfw5.tfbnw.net (157.240.49.141)  39.389 ms po103.psw01.dfw5.tfbnw.net (157.240.41.101)  39.618 ms
13  173.252.67.239 (173.252.67.239)  39.934 ms 173.252.67.253 (173.252.67.253)  39.612 ms 173.252.67.231 (173.252.67.231)  39.580 ms
14  edge-star-mini-shv-02-dfw5.facebook.com (31.13.93.35)  39.852 ms  39.920 ms  39.405 ms

Done.
        \end{lstlisting}

    \item Home
        \begin{lstlisting}
1. www.utah.edu

traceroute to www.utah.edu (155.98.186.21), 30 hops max, 60 byte packets
 1  _gateway (192.168.1.1)  1.912 ms  1.850 ms  1.811 ms
 2  10.190.160.1 (10.190.160.1)  3.854 ms  4.155 ms  4.139 ms
 3  196.195.157.1 (196.195.157.1)  4.310 ms  4.636 ms  4.470 ms
 4  14.140.210.9.static-Delhi-vsnl.net.in (14.140.210.9)  3.743 ms  3.729 ms  11.811 ms
 5  172.23.183.134 (172.23.183.134)  32.245 ms *  32.217 ms
 6  ix-ae-0-100.tcore1.mlv-mumbai.as6453.net (180.87.38.5)  41.541 ms  26.336 ms  26.256 ms
 7  if-ae-2-2.tcore2.mlv-mumbai.as6453.net (180.87.38.2)  161.722 ms  154.714 ms  154.634 ms
 8  if-ae-12-2.tcore1.l78-london.as6453.net (180.87.39.21)  156.993 ms  156.976 ms  154.587 ms
 9  if-ae-17-2.tcore1.ldn-london.as6453.net (80.231.130.130)  154.559 ms  154.525 ms  154.511 ms
10  80.231.62.2 (80.231.62.2)  171.309 ms  154.509 ms  171.280 ms
11  * * *
12  ae5.cs3.lga5.us.eth.zayo.com (64.125.29.126)  370.905 ms  370.886 ms *
13  ae0.cs2.lga5.us.eth.zayo.com (64.125.29.187)  303.876 ms  304.704 ms  303.841 ms
14  ae24.cs4.iad93.us.eth.zayo.com (64.125.28.191)  307.864 ms * *
15  ae20.cs2.dfw2.us.eth.zayo.com (64.125.24.212)  303.764 ms * *
16  ae12.cs2.lax112.us.zip.zayo.com (64.125.26.183)  335.435 ms  335.396 ms  335.381 ms
17  ae21.mpr1.slc2.us.zip.zayo.com (64.125.26.19)  340.450 ms  340.409 ms  340.394 ms
18  209.66.120.134.IPYX-246177-ZYO.zip.zayo.com (209.66.120.134)  307.050 ms  307.559 ms  308.865 ms
19  scc-p-b-151-int.uen.net (140.197.252.48)  322.529 ms  322.510 ms  325.750 ms
20  140.197.252.76 (140.197.252.76)  322.019 ms 140.197.252.81 (140.197.252.81)  309.876 ms 140.197.252.76 (140.197.252.76)  311.147 ms
21  140.197.252.76 (140.197.252.76)  309.833 ms 140.197.252.84 (140.197.252.84)  309.827 ms 140.197.252.76 (140.197.252.76)  310.604 ms
22  140.197.252.84 (140.197.252.84)  310.566 ms 140.197.253.139 (140.197.253.139)  405.806 ms  405.770 ms
23  140.197.253.139 (140.197.253.139)  389.150 ms  389.131 ms 199.104.93.117 (199.104.93.117)  389.117 ms
24  199.104.93.117 (199.104.93.117)  387.829 ms  374.641 ms 199.104.93.102 (199.104.93.102)  374.623 ms
25  199.104.93.102 (199.104.93.102)  380.167 ms 155.99.130.59 (155.99.130.59)  380.151 ms 155.99.130.57 (155.99.130.57)  380.135 ms
26  155.99.130.107 (155.99.130.107)  380.130 ms 155.99.130.59 (155.99.130.59)  380.115 ms 155.99.130.57 (155.99.130.57)  380.100 ms
27  155.99.132.1 (155.99.132.1)  380.095 ms 155.99.132.3 (155.99.132.3)  380.083 ms 155.99.132.7 (155.99.132.7)  310.248 ms
28  155.99.132.5 (155.99.132.5)  317.231 ms  317.217 ms  317.207 ms
29  * * *
30  * www.utah.edu (155.98.186.21)  300.173 ms  307.341 ms

2. www.uct.ac.za

traceroute to www.uct.ac.za (137.158.154.230), 30 hops max, 60 byte packets
 1  _gateway (192.168.1.1)  1.047 ms  0.989 ms  1.372 ms
 2  10.190.160.1 (10.190.160.1)  7.921 ms  7.906 ms  7.891 ms
 3  196.195.157.1 (196.195.157.1)  14.701 ms  14.688 ms  14.921 ms
 4  182.74.217.57 (182.74.217.57)  4.708 ms  5.575 ms  5.560 ms
 5  182.79.142.80 (182.79.142.80)  152.961 ms 116.119.57.82 (116.119.57.82)  152.941 ms 182.79.222.81 (182.79.222.81)  152.925 ms
 6  * * *
 7  lt-0-1-0-0-ams1-ir1.net.tenet.ac.za (155.232.216.4)  156.552 ms  156.495 ms lt-1-1-0-0-ams1-ir1.net.tenet.ac.za (155.232.216.6)  146.592 ms
 8  et-1-1-0-0-ldn1-ir1.net.tenet.ac.za (155.232.1.81)  156.450 ms  156.433 ms  156.416 ms
 9  ae1-306-cpt1-ir1.net.tenet.ac.za (155.232.1.40)  302.789 ms  302.773 ms  302.758 ms
10  ae0-0-cpt1-p1.net.tenet.ac.za (155.232.6.64)  302.741 ms  302.726 ms  302.711 ms
11  eth54-1-cpt2-p1.net.tenet.ac.za (155.232.64.21)  302.698 ms  298.642 ms  297.315 ms
12  et-0-0-0-0-cpt7-pe1.net.tenet.ac.za (155.232.64.76)  304.550 ms  302.584 ms  293.503 ms
13  154.114.124.1 (154.114.124.1)  291.260 ms  293.450 ms  293.433 ms
14  * * *
15  * * *
16  * * *
17  * * *
18  * * *
19  * * *
20  * * *
21  * * *
22  * * *
23  * * *
24  * * *
25  * * *
26  * * *
27  * * *
28  * * *
29  * * *
30  * * *

3. www.iitd.ac.in

traceroute to www.iitd.ac.in (103.27.9.24), 30 hops max, 60 byte packets
 1  _gateway (192.168.1.1)  1.554 ms  1.489 ms  1.449 ms
 2  10.190.160.1 (10.190.160.1)  8.010 ms  7.992 ms  7.976 ms
 3  196.195.157.1 (196.195.157.1)  7.510 ms  4.212 ms  7.479 ms
 4  14.140.210.9.static-Delhi-vsnl.net.in (14.140.210.9)  3.722 ms  3.707 ms  7.840 ms
 5  14.140.210.22.static-Delhi-vsnl.net.in (14.140.210.22)  7.843 ms  7.827 ms  7.812 ms
 6  * * *
 7  * * *
 8  * * *
 9  * * *
10  * * *
11  * * *
12  * * *
13  * * *
14  * * *
15  * * *
16  * * *
17  * * *
18  * * *
19  * * *
20  * * *
21  * * *
22  * * *
23  * * *
24  * * *
25  * * *
26  * * *
27  * * *
28  * * *
29  * * *

4. vayu.iitd.ac.in

traceroute to vayu.iitd.ac.in (103.27.9.4), 30 hops max, 60 byte packets
 1  _gateway (192.168.1.1)  1.372 ms  1.318 ms  1.470 ms
 2  10.190.160.1 (10.190.160.1)  4.452 ms  4.436 ms  4.812 ms
 3  196.195.157.1 (196.195.157.1)  5.619 ms  5.686 ms  5.844 ms
 4  14.140.210.9.static-Delhi-vsnl.net.in (14.140.210.9)  4.025 ms  3.608 ms  3.956 ms
 5  14.140.210.22.static-Delhi-vsnl.net.in (14.140.210.22)  4.669 ms  4.654 ms  4.639 ms
 6  * * *
 7  * * *
 8  * * *
 9  103.27.9.4 (103.27.9.4)  6.692 ms  6.677 ms  6.661 ms
10  103.27.9.4 (103.27.9.4)  17.089 ms  11.942 ms  17.058 ms
11  103.27.9.4 (103.27.9.4)  15.417 ms  9.121 ms  6.045 ms

5. www.google.com

traceroute to google.com (172.217.160.238), 30 hops max, 60 byte packets
 1  _gateway (192.168.1.1)  2.118 ms  2.098 ms  2.089 ms
 2  10.190.160.1 (10.190.160.1)  5.704 ms  5.696 ms  5.689 ms
 3  163.53.87.1 (163.53.87.1)  5.013 ms  5.006 ms  4.997 ms
 4  72.14.221.86 (72.14.221.86)  4.989 ms 103.16.31.6 (103.16.31.6)  5.020 ms  5.012 ms
 5  108.170.251.97 (108.170.251.97)  5.004 ms *  4.988 ms
 6  64.233.174.151 (64.233.174.151)  5.739 ms 64.233.174.17 (64.233.174.17)  5.072 ms  5.047 ms
 7  74.125.244.195 (74.125.244.195)  5.038 ms del03s09-in-f14.1e100.net (172.217.160.238)  5.336 ms  5.315 ms

6. www.facebook.com

traceroute to www.facebook.com (157.240.198.35), 30 hops max, 60 byte packets
 1  _gateway (192.168.1.1)  1.402 ms  7.009 ms  6.991 ms
 2  10.190.160.1 (10.190.160.1)  6.980 ms  6.964 ms  6.945 ms
 3  163.53.87.1 (163.53.87.1)  4.894 ms  4.881 ms  4.868 ms
 4  ae1.pr04.del1.tfbnw.net (157.240.70.196)  4.855 ms ae2.pr03.del1.tfbnw.net (157.240.70.198)  5.560 ms  5.548 ms
 5  po103.psw04.del1.tfbnw.net (157.240.50.177)  4.812 ms po103.psw02.del1.tfbnw.net (74.119.78.135)  4.805 ms po104.psw03.del1.tfbnw.net (157.240.50.157)  4.856 ms
 6  157.240.38.239 (157.240.38.239)  4.774 ms 173.252.67.129 (173.252.67.129)  3.498 ms 157.240.38.95 (157.240.38.95)  2.629 ms
 7  edge-star-mini-shv-01-del1.facebook.com (157.240.198.35)  2.340 ms  3.954 ms  3.825 ms

        \end{lstlisting}

\end{enumerate}

\section{Appendix 2 (DNS lookup queries using different DNS servers for 3c)}

\begin{lstlisting}

Server list:

USA:
8.20.247.10

UK:
109.228.8.250

New Zealand:
122.56.105.82

Venezuela:
190.8.168.1

Russia:
81.211.94.74

Google (India)

$ nslookup www.google.com
Server:		127.0.0.53
Address:	127.0.0.53#53

Non-authoritative answer:
Name:	www.google.com
Address: 172.217.167.196
Name:	www.google.com
Address: 2404:6800:4002:80d::2004

Google (USA)

$ nslookup www.google.com 8.20.247.10
Server:		8.20.247.10
Address:	8.20.247.10#53

Non-authoritative answer:
Name:	www.google.com
Address: 216.58.203.228
Name:	www.google.com
Address: 2404:6800:4003:802::2004

Google (UK)

$ nslookup www.google.com 109.228.8.250
Server:		109.228.8.250
Address:	109.228.8.250#53

Non-authoritative answer:
Name:	www.google.com
Address: 216.58.210.196
Name:	www.google.com
Address: 2a00:1450:4009:81a::2004

Google (New Zealand)

$ nslookup www.google.com 122.56.105.82
Server:		122.56.105.82
Address:	122.56.105.82#53

Non-authoritative answer:
Name:	www.google.com
Address: 142.250.71.68
Name:	www.google.com
Address: 2404:6800:4006:812::2004

Google (Venezuela)

$ nslookup www.google.com 190.8.168.1
Server:		190.8.168.1
Address:	190.8.168.1#53

Non-authoritative answer:
Name:	www.google.com
Address: 172.217.1.100
Name:	www.google.com
Address: 2607:f8b0:4008:810::2004

Google (Russia)

$ nslookup www.google.com 81.211.94.74
;; connection timed out; no servers could be reached

Facebook (India)

$ nslookup www.facebook.com
Server:		127.0.0.53
Address:	127.0.0.53#53

Non-authoritative answer:
www.facebook.com	canonical name = star-mini.c10r.facebook.com.
Name:	star-mini.c10r.facebook.com
Address: 69.171.250.35
Name:	star-mini.c10r.facebook.com
Address: 2a03:2880:f1ff:83:face:b00c:0:25de

Facebook (USA)

$ nslookup www.facebook.com 8.20.247.10
Server:		8.20.247.10
Address:	8.20.247.10#53

Non-authoritative answer:
www.facebook.com	canonical name = star-mini.c10r.facebook.com.
Name:	star-mini.c10r.facebook.com
Address: 157.240.195.35
Name:	star-mini.c10r.facebook.com
Address: 2a03:2880:f142:82:face:b00c:0:25de

Facebook (UK)

$ nslookup facebook.com 109.228.8.250
Server:		109.228.8.250
Address:	109.228.8.250#53

Non-authoritative answer:
Name:	facebook.com
Address: 157.240.221.35
Name:	facebook.com
Address: 2a03:2880:f158:82:face:b00c:0:25de

Facebook (New Zealand)

$ nslookup facebook.com 122.56.105.82
Server:		122.56.105.82
Address:	122.56.105.82#53

Non-authoritative answer:
Name:	facebook.com
Address: 157.240.8.35
Name:	facebook.com
Address: 2a03:2880:f119:8083:face:b00c:0:25de

Facebook (Venezuela)

$ nslookup facebook.com 190.8.168.1
Server:		190.8.168.1
Address:	190.8.168.1#53

Non-authoritative answer:
Name:	facebook.com
Address: 157.240.14.35
Name:	facebook.com
Address: 2a03:2880:f12c:183:face:b00c:0:25de

Facebook (Russia)

$ nslookup facebook.com 81.211.94.74
Server:		81.211.94.74
Address:	81.211.94.74#53

Non-authoritative answer:
Name:	facebook.com
Address: 31.13.72.36
Name:	facebook.com
Address: 2a03:2880:f10a:83:face:b00c:0:25de

\end{lstlisting}

\section{Appendix 3 (traceroutes to different IPs for the same web server for 3d)}

\begin{lstlisting}
Google

India

$ traceroute 172.217.167.196
traceroute to 172.217.167.196 (172.217.167.196), 30 hops max, 60 byte packets
 1  _gateway (192.168.1.1)  8.048 ms  7.984 ms  7.964 ms
 2  10.190.160.1 (10.190.160.1)  11.387 ms  11.352 ms  19.222 ms
 3  163.53.87.1 (163.53.87.1)  12.875 ms  14.481 ms  19.004 ms
 4  74.125.118.140 (74.125.118.140)  19.004 ms 163.53.87.70 (163.53.87.70)  18.975 ms 74.125.118.140 (74.125.118.140)  20.269 ms
 5  10.23.221.158 (10.23.221.158)  21.416 ms * 108.170.251.113 (108.170.251.113)  24.020 ms
 6  209.85.252.71 (209.85.252.71)  28.555 ms 209.85.252.65 (209.85.252.65)  4.003 ms 209.85.252.71 (209.85.252.71)  4.061 ms
 7  209.85.252.71 (209.85.252.71)  4.934 ms  4.253 ms del03s18-in-f4.1e100.net (172.217.167.196)  4.199 ms

USA

$ traceroute 216.58.203.228
traceroute to 216.58.203.228 (216.58.203.228), 30 hops max, 60 byte packets
 1  _gateway (192.168.1.1)  5.429 ms  5.365 ms  5.332 ms
 2  10.190.160.1 (10.190.160.1)  11.168 ms  11.117 ms  11.063 ms
 3  163.53.87.1 (163.53.87.1)  9.164 ms  9.986 ms  11.040 ms
 4  74.125.118.140 (74.125.118.140)  12.720 ms 163.53.87.70 (163.53.87.70)  12.645 ms 103.16.31.6 (103.16.31.6)  13.600 ms
 5  108.170.251.123 (108.170.251.123)  15.803 ms 10.23.221.94 (10.23.221.94)  17.760 ms 108.170.251.122 (108.170.251.122)  30.134 ms
 6  216.239.58.5 (216.239.58.5)  55.623 ms 142.250.46.130 (142.250.46.130)  2.979 ms 72.14.239.59 (72.14.239.59)  41.159 ms
 7  108.170.251.119 (108.170.251.119)  4.384 ms 74.125.243.98 (74.125.243.98)  3.897 ms 108.170.251.124 (108.170.251.124)  3.081 ms
 8  216.239.35.175 (216.239.35.175)  71.155 ms 108.170.225.85 (108.170.225.85)  43.880 ms 72.14.239.59 (72.14.239.59)  40.649 ms
 9  108.170.254.225 (108.170.254.225)  75.118 ms 74.125.251.157 (74.125.251.157)  74.388 ms 108.170.254.225 (108.170.254.225)  77.508 ms
10  66.249.95.249 (66.249.95.249)  74.134 ms  74.421 ms 108.170.237.237 (108.170.237.237)  77.358 ms
11  108.170.254.225 (108.170.254.225)  76.738 ms 74.125.242.33 (74.125.242.33)  73.984 ms 108.170.254.225 (108.170.254.225)  74.792 ms
12  108.170.237.237 (108.170.237.237)  72.501 ms  72.990 ms sin11s01-in-f4.1e100.net (216.58.203.228)  71.930 ms

UK

$ traceroute 216.58.210.196
traceroute to 216.58.210.196 (216.58.210.196), 30 hops max, 60 byte packets
 1  _gateway (192.168.1.1)  2.760 ms  2.705 ms  2.687 ms
 2  10.190.160.1 (10.190.160.1)  6.500 ms  6.484 ms  6.469 ms
 3  163.53.87.1 (163.53.87.1)  5.137 ms  4.608 ms  4.467 ms
 4  72.14.221.86 (72.14.221.86)  4.738 ms 103.16.31.6 (103.16.31.6)  5.253 ms 163.53.87.70 (163.53.87.70)  4.036 ms
 5  74.125.243.101 (74.125.243.101)  5.427 ms * 10.23.221.94 (10.23.221.94)  5.160 ms
 6  72.14.239.59 (72.14.239.59)  41.850 ms 172.253.67.84 (172.253.67.84)  3.257 ms 74.125.243.97 (74.125.243.97)  3.825 ms
 7  172.253.74.53 (172.253.74.53)  71.282 ms * *
 8  108.170.236.170 (108.170.236.170)  137.300 ms 108.170.225.89 (108.170.225.89)  40.471 ms 172.253.77.15 (172.253.77.15)  40.382 ms
 9  172.253.79.46 (172.253.79.46)  229.311 ms * 209.85.242.157 (209.85.242.157)  75.476 ms
10  209.85.250.4 (209.85.250.4)  248.031 ms 74.125.37.82 (74.125.37.82)  250.308 ms 108.170.235.104 (108.170.235.104)  137.525 ms
11  * 172.253.74.22 (172.253.74.22)  258.750 ms *
12  142.250.235.40 (142.250.235.40)  267.605 ms 142.250.235.134 (142.250.235.134)  265.981 ms 142.250.235.132 (142.250.235.132)  273.651 ms
13  * * *
14  216.239.59.1 (216.239.59.1)  283.031 ms * *
15  209.85.247.4 (209.85.247.4)  268.492 ms * 142.250.233.159 (142.250.233.159)  355.119 ms
16  209.85.250.90 (209.85.250.90)  354.299 ms 216.239.59.1 (216.239.59.1)  285.296 ms  285.833 ms
17  172.253.65.167 (172.253.65.167)  348.014 ms 142.250.233.159 (142.250.233.159)  352.385 ms 74.125.242.65 (74.125.242.65)  348.893 ms
18  172.253.68.217 (172.253.68.217)  350.914 ms 216.239.57.206 (216.239.57.206)  347.639 ms 172.253.68.217 (172.253.68.217)  351.171 ms
19  mrs04s09-in-f196.1e100.net (216.58.210.196)  349.315 ms 74.125.242.65 (74.125.242.65)  349.895 ms lhr48s11-in-f4.1e100.net (216.58.210.196)  349.141 ms

New Zealand

$ traceroute 142.250.71.68
traceroute to 142.250.71.68 (142.250.71.68), 30 hops max, 60 byte packets
 1  _gateway (192.168.1.1)  2.538 ms  2.497 ms  2.478 ms
 2  10.190.160.1 (10.190.160.1)  3.765 ms  5.432 ms  5.416 ms
 3  163.53.87.1 (163.53.87.1)  4.929 ms  4.914 ms  5.064 ms
 4  103.16.31.6 (103.16.31.6)  4.414 ms 74.125.118.140 (74.125.118.140)  5.039 ms 163.53.87.70 (163.53.87.70)  4.135 ms
 5  * 74.125.243.98 (74.125.243.98)  5.587 ms  5.756 ms
 6  66.249.95.224 (66.249.95.224)  4.174 ms 74.125.243.97 (74.125.243.97)  4.285 ms 66.249.95.74 (66.249.95.74)  3.237 ms
 7  216.239.58.5 (216.239.58.5)  41.369 ms 209.85.247.227 (209.85.247.227)  73.491 ms 74.125.243.99 (74.125.243.99)  4.093 ms
 8  * 72.14.239.11 (72.14.239.11)  42.106 ms *
 9  72.14.239.11 (72.14.239.11)  41.929 ms 172.253.79.101 (172.253.79.101)  164.270 ms 108.170.247.49 (108.170.247.49)  165.414 ms
10  108.170.247.49 (108.170.247.49)  165.518 ms  165.271 ms 142.250.63.169 (142.250.63.169)  75.292 ms
11  syd15s17-in-f4.1e100.net (142.250.71.68)  164.379 ms  163.795 ms 172.253.79.101 (172.253.79.101)  165.551 ms

Venezuela

$ traceroute 172.217.1.100
traceroute to 172.217.1.100 (172.217.1.100), 30 hops max, 60 byte packets
 1  _gateway (192.168.1.1)  2.392 ms  2.349 ms  2.328 ms
 2  10.190.160.1 (10.190.160.1)  5.646 ms  5.628 ms  6.002 ms
 3  163.53.87.1 (163.53.87.1)  4.561 ms  4.943 ms  4.814 ms
 4  74.125.118.140 (74.125.118.140)  5.143 ms 103.16.31.6 (103.16.31.6)  4.349 ms 72.14.221.86 (72.14.221.86)  4.600 ms
 5  10.23.221.190 (10.23.221.190)  5.612 ms 108.170.251.122 (108.170.251.122)  5.151 ms 108.170.251.108 (108.170.251.108)  4.914 ms
 6  216.239.58.5 (216.239.58.5)  43.026 ms 172.253.77.15 (172.253.77.15)  40.784 ms 74.125.243.97 (74.125.243.97)  3.973 ms
 7  * * 108.170.251.108 (108.170.251.108)  31.498 ms
 8  108.170.225.89 (108.170.225.89)  40.475 ms 108.170.235.104 (108.170.235.104)  137.652 ms *
 9  72.14.239.151 (72.14.239.151)  72.349 ms 108.170.234.129 (108.170.234.129)  74.474 ms 209.85.242.157 (209.85.242.157)  73.572 ms
10  * * *
11  209.85.251.69 (209.85.251.69)  296.361 ms 209.85.247.142 (209.85.247.142)  247.260 ms 209.85.251.69 (209.85.251.69)  295.495 ms
12  142.250.62.148 (142.250.62.148)  267.386 ms 142.250.62.156 (142.250.62.156)  297.583 ms *
13  209.85.251.69 (209.85.251.69)  297.558 ms 108.170.253.17 (108.170.253.17)  297.497 ms 108.170.253.1 (108.170.253.1)  293.719 ms
14  216.239.57.169 (216.239.57.169)  297.463 ms 142.250.62.156 (142.250.62.156)  294.319 ms 142.250.61.185 (142.250.61.185)  293.774 ms
15  mia09s17-in-f4.1e100.net (172.217.1.100)  294.411 ms  297.338 ms  297.321 ms

Facebook

India

$ traceroute 69.171.250.35
traceroute to 69.171.250.35 (69.171.250.35), 30 hops max, 60 byte packets
 1  _gateway (192.168.1.1)  2.258 ms  2.176 ms  2.127 ms
 2  10.190.160.1 (10.190.160.1)  5.698 ms  5.678 ms  5.641 ms
 3  163.53.87.1 (163.53.87.1)  3.921 ms  4.068 ms  4.044 ms
 4  ae1.pr04.del1.tfbnw.net (157.240.70.196)  34.074 ms ae2.pr03.del1.tfbnw.net (157.240.70.198)  4.522 ms ae1.pr04.del1.tfbnw.net (157.240.70.196)  34.063 ms
 5  po103.psw04.del1.tfbnw.net (157.240.50.177)  3.415 ms po104.psw02.del1.tfbnw.net (74.119.78.201)  3.629 ms po103.psw03.del1.tfbnw.net (157.240.40.233)  3.427 ms
 6  173.252.67.169 (173.252.67.169)  3.832 ms 157.240.38.241 (157.240.38.241)  2.819 ms 157.240.38.151 (157.240.38.151)  2.533 ms
 7  edge-star-mini-shv-01-any2.facebook.com (69.171.250.35)  2.500 ms  3.059 ms  2.692 ms

USA

$ traceroute 157.240.195.35
traceroute to 157.240.195.35 (157.240.195.35), 30 hops max, 60 byte packets
 1  _gateway (192.168.1.1)  5.466 ms  5.408 ms  5.390 ms
 2  10.190.160.1 (10.190.160.1)  9.103 ms  9.087 ms  9.073 ms
 3  163.53.87.1 (163.53.87.1)  4.764 ms  4.749 ms  4.733 ms
 4  ae1.pr04.del1.tfbnw.net (157.240.70.196)  5.390 ms ae2.pr03.del1.tfbnw.net (157.240.70.198)  11.650 ms ae1.pr04.del1.tfbnw.net (157.240.70.196)  5.577 ms
 5  ae130.ar01.del1.tfbnw.net (74.119.78.28)  4.673 ms ae140.ar02.del1.tfbnw.net (157.240.41.246)  4.630 ms ae130.ar03.del1.tfbnw.net (157.240.45.248)  7.927 ms
 6  ae21.bb01.bom1.tfbnw.net (157.240.45.102)  280.995 ms  276.305 ms  276.273 ms
 7  ae32.bb01.mrs1.tfbnw.net (157.240.34.136)  247.092 ms ae14.bb02.mrs1.tfbnw.net (31.13.24.62)  251.912 ms ae32.bb01.mrs1.tfbnw.net (157.240.34.136)  247.012 ms
 8  ae8.bb03.mrs1.tfbnw.net (157.240.55.48)  285.394 ms ae8.bb04.mrs1.tfbnw.net (157.240.55.50)  285.331 ms ae1.ar01.mrs1.tfbnw.net (31.13.26.117)  179.909 ms
 9  ae140.pr03.mrs1.tfbnw.net (157.240.46.243)  153.130 ms ae5.ar02.mrs1.tfbnw.net (74.119.77.105)  161.593 ms ae120.pr04.mrs1.tfbnw.net (157.240.46.255)  153.062 ms
10  ae110.pr01.mrs1.tfbnw.net (157.240.44.93)  166.906 ms po101.psw01.mrs2.tfbnw.net (129.134.35.9)  153.014 ms ae120.pr03.mrs1.tfbnw.net (157.240.46.239)  161.540 ms
11  157.240.38.89 (157.240.38.89)  152.999 ms 157.240.38.177 (157.240.38.177)  176.305 ms 157.240.38.137 (157.240.38.137)  176.260 ms
12  157.240.38.99 (157.240.38.99)  176.282 ms 173.252.67.27 (173.252.67.27)  176.258 ms edge-star-mini-shv-01-mrs2.facebook.com (157.240.195.35)  176.241 ms

UK

$ traceroute 157.240.221.35
traceroute to 157.240.221.35 (157.240.221.35), 30 hops max, 60 byte packets
 1  _gateway (192.168.1.1)  3.059 ms  3.001 ms  2.982 ms
 2  10.190.160.1 (10.190.160.1)  5.364 ms  5.331 ms  5.319 ms
 3  163.53.87.1 (163.53.87.1)  13.838 ms  13.825 ms  14.178 ms
 4  ae1.pr04.del1.tfbnw.net (157.240.70.196)  53.435 ms  53.422 ms ae2.pr03.del1.tfbnw.net (157.240.70.198)  17.603 ms
 5  ae140.ar02.del1.tfbnw.net (157.240.41.246)  5.775 ms ae130.ar02.del1.tfbnw.net (173.252.64.164)  5.971 ms ae140.ar02.del1.tfbnw.net (157.240.41.246)  5.743 ms
 6  ae21.bb03.bom1.tfbnw.net (157.240.45.244)  259.108 ms ae21.bb01.bom1.tfbnw.net (157.240.45.102)  264.340 ms ae50.bb04.bom1.tfbnw.net (129.134.42.152)  264.275 ms
 7  ae1.bb04.mxp1.tfbnw.net (31.13.30.140)  264.206 ms  261.909 ms  261.845 ms
 8  ae61.bb02.fra2.tfbnw.net (129.134.38.166)  261.808 ms ae59.bb02.fra2.tfbnw.net (129.134.36.36)  261.491 ms  261.474 ms
 9  ae48.bb01.ams2.tfbnw.net (31.13.28.120)  261.743 ms  261.725 ms  261.707 ms
10  ae619.bb02.lhr8.tfbnw.net (31.13.29.25)  261.327 ms ae618.bb02.lhr8.tfbnw.net (31.13.29.23)  261.306 ms  261.285 ms
11  ae33.bb01.lhr6.tfbnw.net (129.134.47.90)  261.601 ms ae38.bb02.lhr6.tfbnw.net (129.134.47.110)  252.492 ms ae35.bb01.lhr6.tfbnw.net (129.134.47.94)  245.250 ms
12  po211.asw02.lhr3.tfbnw.net (129.134.44.167)  158.832 ms  158.815 ms po211.asw01.lhr3.tfbnw.net (129.134.44.165)  152.336 ms
13  po207.asw01.lhr6.tfbnw.net (157.240.32.7)  154.965 ms po261.psw03.lhr8.tfbnw.net (129.134.42.63)  156.983 ms po204.asw02.lhr6.tfbnw.net (157.240.42.153)  155.573 ms
14  173.252.67.77 (173.252.67.77)  148.738 ms po221.psw03.lhr8.tfbnw.net (129.134.50.145)  154.226 ms po225.psw03.lhr8.tfbnw.net (129.134.41.251)  156.605 ms
15  157.240.38.85 (157.240.38.85)  155.492 ms edge-star-mini-shv-01-lhr8.facebook.com (157.240.221.35)  148.081 ms 157.240.38.237 (157.240.38.237)  154.783 ms

New Zealand

$ traceroute 157.240.8.35
traceroute to 157.240.8.35 (157.240.8.35), 30 hops max, 60 byte packets
 1  _gateway (192.168.1.1)  2.124 ms  2.313 ms  2.295 ms
 2  10.190.160.1 (10.190.160.1)  17.531 ms  17.500 ms  17.487 ms
 3  163.53.87.1 (163.53.87.1)  5.429 ms  5.613 ms  5.404 ms
 4  ae2.pr03.del1.tfbnw.net (157.240.70.198)  20.399 ms ae1.pr04.del1.tfbnw.net (157.240.70.196)  5.131 ms  5.118 ms
 5  ae140.ar04.del1.tfbnw.net (157.240.50.152)  5.624 ms ae130.ar02.del1.tfbnw.net (173.252.64.164)  5.791 ms ae140.ar03.del1.tfbnw.net (157.240.50.130)  5.781 ms
 6  ae51.bb01.maa1.tfbnw.net (129.134.42.164)  297.658 ms  273.042 ms ae51.bb02.maa1.tfbnw.net (129.134.42.166)  264.062 ms
 7  ae72.bb03.sin1.tfbnw.net (129.134.36.145)  264.024 ms  264.004 ms  263.984 ms
 8  ae28.bb02.hnd1.tfbnw.net (129.134.38.55)  267.538 ms ae19.bb01.hnd2.tfbnw.net (157.240.42.132)  275.076 ms ae17.bb02.hkg7.tfbnw.net (157.240.49.210)  263.911 ms
 9  ae39.bb01.lax1.tfbnw.net (204.15.21.155)  275.074 ms ae43.bb04.pdx1.tfbnw.net (157.240.57.149)  263.875 ms ae24.bb01.lax1.tfbnw.net (157.240.41.89)  275.010 ms
10  ae38.ar01.syd2.tfbnw.net (31.13.28.145)  459.120 ms ae9.bb02.sjc1.tfbnw.net (157.240.53.247)  274.983 ms ae3.bb02.sjc1.tfbnw.net (157.240.53.245)  276.453 ms
11  ae0.ar02.syd2.tfbnw.net (129.134.42.255)  417.689 ms ae110.pr02.syd2.tfbnw.net (31.13.28.87)  449.182 ms ae38.ar02.syd2.tfbnw.net (31.13.28.225)  418.564 ms
12  po104.psw04.syd2.tfbnw.net (157.240.47.81)  419.750 ms po102.psw04.syd2.tfbnw.net (157.240.47.77)  425.558 ms ae120.pr01.syd2.tfbnw.net (74.119.76.67)  411.165 ms
13  po102.psw01.syd2.tfbnw.net (157.240.46.91)  419.576 ms po104.psw02.syd2.tfbnw.net (157.240.47.65)  419.559 ms po102.psw03.syd2.tfbnw.net (157.240.47.69)  425.491 ms
14  edge-star-mini-shv-01-syd2.facebook.com (157.240.8.35)  430.659 ms  430.578 ms 157.240.38.121 (157.240.38.121)  424.506 ms

Venezuela

$ traceroute 157.240.14.35
traceroute to 157.240.14.35 (157.240.14.35), 30 hops max, 60 byte packets
 1  _gateway (192.168.1.1)  24.502 ms  24.445 ms  24.426 ms
 2  10.190.160.1 (10.190.160.1)  24.393 ms  24.378 ms  24.361 ms
 3  163.53.87.1 (163.53.87.1)  13.874 ms  15.006 ms  16.163 ms
 4  ae1.pr04.del1.tfbnw.net (157.240.70.196)  19.307 ms  19.292 ms ae2.pr03.del1.tfbnw.net (157.240.70.198)  20.442 ms
 5  ae130.ar04.del1.tfbnw.net (157.240.50.150)  21.549 ms ae140.ar04.del1.tfbnw.net (157.240.50.152)  21.927 ms ae140.ar01.del1.tfbnw.net (31.13.27.32)  21.703 ms
 6  ae20.bb01.maa2.tfbnw.net (157.240.46.231)  285.883 ms  272.001 ms ae51.bb01.maa1.tfbnw.net (129.134.42.164)  272.703 ms
 7  ae1.bb01.bom1.tfbnw.net (129.134.37.42)  287.476 ms ae3.bb03.mxp1.tfbnw.net (157.240.41.240)  266.596 ms ae105.bb03.bom1.tfbnw.net (129.134.42.144)  316.657 ms
 8  ae60.bb02.fra2.tfbnw.net (129.134.36.38)  265.420 ms ae3.bb03.mxp1.tfbnw.net (157.240.41.240)  264.298 ms ae59.bb02.fra2.tfbnw.net (129.134.36.36)  264.130 ms
 9  ae48.bb01.ams2.tfbnw.net (31.13.28.120)  263.880 ms  258.649 ms  258.588 ms
10  ae519.bb01.lhr8.tfbnw.net (31.13.28.253)  244.804 ms ae619.bb02.lhr8.tfbnw.net (31.13.29.25)  244.788 ms ae518.bb01.lhr8.tfbnw.net (31.13.28.251)  258.515 ms
11  ae618.bb02.lhr8.tfbnw.net (31.13.29.23)  270.968 ms ae85.bb01.lga1.tfbnw.net (74.119.77.44)  258.463 ms ae85.bb02.lga1.tfbnw.net (74.119.76.114)  258.359 ms
12  ae41.bb04.dca1.tfbnw.net (204.15.23.208)  258.320 ms ae84.bb02.lga1.tfbnw.net (74.119.76.118)  265.470 ms ae34.bb01.dca1.tfbnw.net (74.119.77.202)  258.262 ms
13  ae26.bb03.clt3.tfbnw.net (157.240.42.54)  258.217 ms  258.197 ms ae34.bb03.dca1.tfbnw.net (157.240.33.96)  265.377 ms
14  ae25.bb01.clt3.tfbnw.net (129.134.37.70)  270.410 ms ae22.bb04.clt3.tfbnw.net (74.119.77.42)  258.338 ms ae9.bb02.mia1.tfbnw.net (157.240.41.81)  269.241 ms
15  ae1.ar02.mia1.tfbnw.net (157.240.34.85)  255.427 ms ae16.bb01.mia1.tfbnw.net (157.240.41.85)  293.606 ms ae0.ar01.mia1.tfbnw.net (157.240.34.79)  255.384 ms
16  ae24.pr07.mia1.tfbnw.net (157.240.32.71)  260.833 ms ae0.ar01.mia1.tfbnw.net (157.240.34.79)  276.572 ms ae25.pr06.mia1.tfbnw.net (157.240.32.77)  280.226 ms
17  po106.psw01.mia3.tfbnw.net (31.13.28.113)  280.155 ms ae24.pr06.mia1.tfbnw.net (157.240.32.69)  280.121 ms po104.psw02.mia3.tfbnw.net (129.134.32.129)  280.110 ms
18  157.240.39.155 (157.240.39.155)  280.127 ms po104.psw01.mia3.tfbnw.net (129.134.32.127)  280.120 ms 157.240.39.51 (157.240.39.51)  280.062 ms
19  edge-star-mini-shv-02-mia3.facebook.com (157.240.14.35)  280.049 ms  280.036 ms  280.023 ms

Russia

$ traceroute 31.13.72.36
traceroute to 31.13.72.36 (31.13.72.36), 30 hops max, 60 byte packets
 1  _gateway (192.168.1.1)  1.262 ms  1.204 ms  1.188 ms
 2  10.190.160.1 (10.190.160.1)  6.905 ms  6.889 ms  6.874 ms
 3  163.53.87.1 (163.53.87.1)  3.785 ms  4.024 ms  4.370 ms
 4  ae2.pr03.del1.tfbnw.net (157.240.70.198)  4.359 ms  4.345 ms ae1.pr04.del1.tfbnw.net (157.240.70.196)  26.110 ms
 5  ae140.ar02.del1.tfbnw.net (157.240.41.246)  4.523 ms  5.137 ms ae130.ar03.del1.tfbnw.net (157.240.45.248)  5.072 ms
 6  ae51.bb01.maa1.tfbnw.net (129.134.42.164)  282.650 ms ae21.bb02.bom1.tfbnw.net (157.240.45.114)  247.774 ms  247.718 ms
 7  ae0.bb03.bom1.tfbnw.net (129.134.37.210)  303.515 ms ae5.bb02.mxp1.tfbnw.net (31.13.27.228)  252.821 ms ae1.bb04.mxp1.tfbnw.net (31.13.30.140)  252.738 ms
 8  ae60.bb02.fra2.tfbnw.net (129.134.36.38)  252.724 ms  252.707 ms  252.672 ms
 9  ae39.ar01.arn2.tfbnw.net (129.134.50.199)  174.475 ms ae60.bb01.fra2.tfbnw.net (129.134.36.26)  260.755 ms ae34.ar03.arn2.tfbnw.net (129.134.52.143)  174.938 ms
10  ae130.pr03.arn2.tfbnw.net (31.13.31.139)  175.246 ms ae140.pr02.arn1.tfbnw.net (129.134.43.101)  174.416 ms ae130.pr01.arn1.tfbnw.net (129.134.43.91)  184.911 ms
11  po103.psw03.arn2.tfbnw.net (157.240.42.243)  174.386 ms po103.psw01.arn2.tfbnw.net (157.240.35.9)  176.657 ms ae110.pr02.arn1.tfbnw.net (129.134.43.95)  189.947 ms
12  173.252.67.151 (173.252.67.151)  176.544 ms 173.252.67.69 (173.252.67.69)  176.589 ms 173.252.67.145 (173.252.67.145)  179.924 ms
13  edge-star-mini-shv-01-arn2.facebook.com (31.13.72.36)  179.876 ms  179.856 ms  179.837 ms
$
\end{lstlisting}

\section{Appendix 4 (whois queries and analysis - 2nd bullet point)}

\textbf{Consult whois services to figure out when traffic gets into the local ISP, transits to other intermediate ISPs, and finally into the destination domains. One such service is https://whois.domaintools.com/}\nl
For the purpose of this part of the assignment, I noticed that the traceroute carried out from Delhi to www.utah.edu, there are 30 hops, and those too with a lot of distinct addresses, and hence this can be a good example to carry out analysis of each Tier ISP.

For the sake of convenience, the following is the traceroute which will be analysed here.

\begin{lstlisting}
traceroute to www.utah.edu (155.98.186.21), 30 hops max, 60 byte packets
 1  _gateway (192.168.1.1)  1.912 ms  1.850 ms  1.811 ms
 2  10.190.160.1 (10.190.160.1)  3.854 ms  4.155 ms  4.139 ms
 3  196.195.157.1 (196.195.157.1)  4.310 ms  4.636 ms  4.470 ms
 4  14.140.210.9.static-Delhi-vsnl.net.in (14.140.210.9)  3.743 ms  3.729 ms  11.811 ms
 5  172.23.183.134 (172.23.183.134)  32.245 ms *  32.217 ms
 6  ix-ae-0-100.tcore1.mlv-mumbai.as6453.net (180.87.38.5)  41.541 ms  26.336 ms  26.256 ms
 7  if-ae-2-2.tcore2.mlv-mumbai.as6453.net (180.87.38.2)  161.722 ms  154.714 ms  154.634 ms
 8  if-ae-12-2.tcore1.l78-london.as6453.net (180.87.39.21)  156.993 ms  156.976 ms  154.587 ms
 9  if-ae-17-2.tcore1.ldn-london.as6453.net (80.231.130.130)  154.559 ms  154.525 ms  154.511 ms
10  80.231.62.2 (80.231.62.2)  171.309 ms  154.509 ms  171.280 ms
11  * * *
12  ae5.cs3.lga5.us.eth.zayo.com (64.125.29.126)  370.905 ms  370.886 ms *
13  ae0.cs2.lga5.us.eth.zayo.com (64.125.29.187)  303.876 ms  304.704 ms  303.841 ms
14  ae24.cs4.iad93.us.eth.zayo.com (64.125.28.191)  307.864 ms * *
15  ae20.cs2.dfw2.us.eth.zayo.com (64.125.24.212)  303.764 ms * *
16  ae12.cs2.lax112.us.zip.zayo.com (64.125.26.183)  335.435 ms  335.396 ms  335.381 ms
17  ae21.mpr1.slc2.us.zip.zayo.com (64.125.26.19)  340.450 ms  340.409 ms  340.394 ms
18  209.66.120.134.IPYX-246177-ZYO.zip.zayo.com (209.66.120.134)  307.050 ms  307.559 ms  308.865 ms
19  scc-p-b-151-int.uen.net (140.197.252.48)  322.529 ms  322.510 ms  325.750 ms
20  140.197.252.76 (140.197.252.76)  322.019 ms 140.197.252.81 (140.197.252.81)  309.876 ms 140.197.252.76 (140.197.252.76)  311.147 ms
21  140.197.252.76 (140.197.252.76)  309.833 ms 140.197.252.84 (140.197.252.84)  309.827 ms 140.197.252.76 (140.197.252.76)  310.604 ms
22  140.197.252.84 (140.197.252.84)  310.566 ms 140.197.253.139 (140.197.253.139)  405.806 ms  405.770 ms
23  140.197.253.139 (140.197.253.139)  389.150 ms  389.131 ms 199.104.93.117 (199.104.93.117)  389.117 ms
24  199.104.93.117 (199.104.93.117)  387.829 ms  374.641 ms 199.104.93.102 (199.104.93.102)  374.623 ms
25  199.104.93.102 (199.104.93.102)  380.167 ms 155.99.130.59 (155.99.130.59)  380.151 ms 155.99.130.57 (155.99.130.57)  380.135 ms
26  155.99.130.107 (155.99.130.107)  380.130 ms 155.99.130.59 (155.99.130.59)  380.115 ms 155.99.130.57 (155.99.130.57)  380.100 ms
27  155.99.132.1 (155.99.132.1)  380.095 ms 155.99.132.3 (155.99.132.3)  380.083 ms 155.99.132.7 (155.99.132.7)  310.248 ms
28  155.99.132.5 (155.99.132.5)  317.231 ms  317.217 ms  317.207 ms
29  * * *
30  * www.utah.edu (155.98.186.21)  300.173 ms  307.341 ms
\end{lstlisting}
\nln
The following is the summary of whois results.

\begin{enumerate}
    \item 192.168.1.1 - this is the gateway
    \item 10.190.160.1 - this is a private router on my network
    \item 196.195.157.1 - this is an IP address for the local ISP (ANI networks)
    \item 14.140.210.9 - this belongs to Tata Communications (Noida)
    \item 172.23.183.134 - this is a private IP belonging to the Tata Communications network
    \item 180.87.38.5 - this belongs to Tata Communications (Mumbai)
    \item 180.87.38.2 - same as above
    \item 180.87.39.21 - this belongs to Tata Communications (UK)
    \item 80.231.130.130 - same as above
    \item 80.231.62.2 - same as above
    \item empty
    \item 64.125.29.126 - this belongs to Zayo IP Engineering (USA)
    \item 64.125.29.187 - same as above
    \item 64.125.28.191 - same as above
    \item 64.125.24.212 - same as above
    \item 64.125.26.183 - same as above
    \item 64.125.26.19 - same as above
    \item 209.66.120.134 - same as above
    \item 140.197.252.48 - this belongs to UEN Network Operations (USA)
    \item 140.197.252.81, 140.197.252.76 - same as above
    \item 140.197.252.84, 140.197.252.76 - same as above
    \item 140.197.252.84, 140.197.253.139 - same as above
    \item 140.197.253.139 - same as above, 199.104.93.117 - University of Utah
    \item 199.104.93.102, 199.104.93.117 - University of Utah
    \item 199.104.93.117, 199.104.93.102 - same as above
    \item 199.104.93.102, 155.99.130.59 - same as above
    \item 155.99.130.107, 155.99.130.59, 155.99.130.57 - same as above
    \item 155.99.132.1, 155.99.132.3, 155.99.132.7 - same as above
    \item 155.99.132.5 - same as above
    \item empty
    \item 155.98.186.21 - same as above
\end{enumerate}

From here and the latencies, we get to know the following:

\begin{enumerate}
    \item The traffic gets to the local ISP at the 3rd hop.
    \item The traffic gets to a Tier 1 ISP (Tata) at the 4th hop.
    \item At the 7th hop, there is a significant latency, and this might be because of intercontinental data transfer (from India to UK)
    \item Again at the 11th-12th hop, there is a significant increase in latency, and this might be due to a second intercontinental data transfer.
    \item Zayo is also a Tier 1 ISP, and there are quite a few hops in its network.
    \item UEN Network Operations is a local ISP operating in Utah, and it gets the data packets from Zayo in this traceroute.
    \item The University of Utah is the destination domain, and it takes a few hops before it reaches the IP address we want to send the packet to.
\end{enumerate}

\end{document}
